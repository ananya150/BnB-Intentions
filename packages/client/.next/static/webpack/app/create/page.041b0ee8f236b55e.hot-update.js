"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/create/page", {
  /***/ "(app-pages-browser)/./src/lib/webauth.ts":
    /*!****************************!*\
  !*** ./src/lib/webauth.ts ***!
  \****************************/
    /***/ function (module, __webpack_exports__, __webpack_require__) {
      eval(
        __webpack_require__.ts(
          '__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PassKeyKeyPair: function() { return /* binding */ PassKeyKeyPair; },\n/* harmony export */   WebAuthnWrapper: function() { return /* binding */ WebAuthnWrapper; }\n/* harmony export */ });\n/* harmony import */ var _swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @swc/helpers/_/_async_to_generator */ "(app-pages-browser)/../../node_modules/@swc/helpers/esm/_async_to_generator.js");\n/* harmony import */ var _swc_helpers_class_call_check__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @swc/helpers/_/_class_call_check */ "(app-pages-browser)/../../node_modules/@swc/helpers/esm/_class_call_check.js");\n/* harmony import */ var _swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @swc/helpers/_/_ts_generator */ "(app-pages-browser)/../../node_modules/tslib/tslib.es6.mjs");\n/* harmony import */ var _passwordless_id_webauthn__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @passwordless-id/webauthn */ "(app-pages-browser)/../../node_modules/@passwordless-id/webauthn/dist/esm/index.js");\n/* harmony import */ var ethers__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ethers */ "(app-pages-browser)/../../node_modules/@ethersproject/bignumber/lib.esm/bignumber.js");\n/* harmony import */ var ethers_lib_utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ethers/lib/utils */ "(app-pages-browser)/../../node_modules/ethers/lib/utils.js");\n/* harmony import */ var ethers_lib_utils__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(ethers_lib_utils__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _utils_webauthnutils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/webauthnutils */ "(app-pages-browser)/./src/utils/webauthnutils.ts");\n\n\n\n\n\n\n\nvar PassKeyKeyPair = /*#__PURE__*/ function() {\n    "use strict";\n    function PassKeyKeyPair(keyId, pubKeyX, pubKeyY, webAuthnClient, name, aaguid, manufacturer, regTime) {\n        (0,_swc_helpers_class_call_check__WEBPACK_IMPORTED_MODULE_2__._)(this, PassKeyKeyPair);\n        this.keyHash = ethers__WEBPACK_IMPORTED_MODULE_3__.BigNumber.from((0,ethers_lib_utils__WEBPACK_IMPORTED_MODULE_4__.keccak256)(new TextEncoder().encode(keyId)));\n        this.pubKeyX = pubKeyX;\n        this.pubKeyY = pubKeyY;\n        this.webAuthnClient = webAuthnClient;\n        this.keyId = keyId;\n        this.name = name;\n        this.aaguid = aaguid;\n        this.manufacturer = manufacturer;\n        this.regTime = regTime;\n    }\n    var _proto = PassKeyKeyPair.prototype;\n    _proto.signChallenge = function signChallenge(payload) {\n        var _this = this;\n        return (0,_swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_5__._)(function() {\n            var challenge, authData, sig, clientDataJSON, challengePos, challengePrefix, challengeSuffix, authenticatorData;\n            return (0,_swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_6__.__generator)(this, function(_state) {\n                switch(_state.label){\n                    case 0:\n                        challenge = _passwordless_id_webauthn__WEBPACK_IMPORTED_MODULE_0__.utils.toBase64url((0,ethers_lib_utils__WEBPACK_IMPORTED_MODULE_4__.arrayify)(payload)).replace(/=/g, "");\n                        return [\n                            4,\n                            _this.webAuthnClient.authenticate(challenge, [\n                                _this.keyId\n                            ], {\n                                userVerification: "required",\n                                authenticatorType: "both"\n                            })\n                        ];\n                    case 1:\n                        authData = _state.sent();\n                        sig = _utils_webauthnutils__WEBPACK_IMPORTED_MODULE_1__.WebAuthnUtils.getMessageSignature(authData.signature);\n                        clientDataJSON = new TextDecoder().decode(_passwordless_id_webauthn__WEBPACK_IMPORTED_MODULE_0__.utils.parseBase64url(authData.clientData));\n                        challengePos = clientDataJSON.indexOf(challenge);\n                        challengePrefix = clientDataJSON.substring(0, challengePos);\n                        challengeSuffix = clientDataJSON.substring(challengePos + challenge.length);\n                        authenticatorData = new Uint8Array(_passwordless_id_webauthn__WEBPACK_IMPORTED_MODULE_0__.utils.parseBase64url(authData.authenticatorData));\n                        return [\n                            2,\n                            {\n                                id: _this.keyHash,\n                                r: sig[0],\n                                s: sig[1],\n                                authData: authenticatorData,\n                                clientDataPrefix: challengePrefix,\n                                clientDataSuffix: challengeSuffix\n                            }\n                        ];\n                }\n            });\n        })();\n    };\n    PassKeyKeyPair.getValidPassKeyPair = function getValidPassKeyPair(webAuthnClient, passkeyIds) {\n        return (0,_swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_5__._)(function() {\n            var authData, sig, parsedAuth;\n            return (0,_swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_6__.__generator)(this, function(_state) {\n                switch(_state.label){\n                    case 0:\n                        return [\n                            4,\n                            webAuthnClient.authenticate(_passwordless_id_webauthn__WEBPACK_IMPORTED_MODULE_0__.utils.randomChallenge(), passkeyIds, {\n                                userVerification: "required",\n                                authenticatorType: "both"\n                            })\n                        ];\n                    case 1:\n                        authData = _state.sent();\n                        sig = _utils_webauthnutils__WEBPACK_IMPORTED_MODULE_1__.WebAuthnUtils.getMessageSignature(authData.signature);\n                        parsedAuth = _passwordless_id_webauthn__WEBPACK_IMPORTED_MODULE_0__.parsers.parseAuthentication(authData);\n                        return [\n                            2,\n                            new PassKeyKeyPair(parsedAuth.credentialId, ethers__WEBPACK_IMPORTED_MODULE_3__.BigNumber.from(0), ethers__WEBPACK_IMPORTED_MODULE_3__.BigNumber.from(0), webAuthnClient, parsedAuth.authenticator.name, parsedAuth.authenticator.aaguid, parsedAuth.authenticator.name, Date.now())\n                        ];\n                }\n            });\n        })();\n    };\n    return PassKeyKeyPair;\n}();\nvar WebAuthnWrapper = /*#__PURE__*/ function() {\n    "use strict";\n    function WebAuthnWrapper() {\n        (0,_swc_helpers_class_call_check__WEBPACK_IMPORTED_MODULE_2__._)(this, WebAuthnWrapper);\n    }\n    var _proto = WebAuthnWrapper.prototype;\n    _proto.register = function register(challenge, name, options) {\n        return (0,_swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_5__._)(function() {\n            return (0,_swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_6__.__generator)(this, function(_state) {\n                return [\n                    2,\n                    _passwordless_id_webauthn__WEBPACK_IMPORTED_MODULE_0__.client.register(name ? name : _passwordless_id_webauthn__WEBPACK_IMPORTED_MODULE_0__.utils.randomChallenge(), challenge, options)\n                ];\n            });\n        })();\n    };\n    _proto.authenticate = function authenticate(challenge, keyid, options) {\n        return (0,_swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_5__._)(function() {\n            return (0,_swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_6__.__generator)(this, function(_state) {\n                return [\n                    2,\n                    _passwordless_id_webauthn__WEBPACK_IMPORTED_MODULE_0__.client.authenticate(keyid ? keyid : [], challenge, options)\n                ];\n            });\n        })();\n    };\n    _proto.registerPassKey = function registerPassKey(payload, name) {\n        var _this = this;\n        return (0,_swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_5__._)(function() {\n            var regData, parsedData, pkey;\n            return (0,_swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_6__.__generator)(this, function(_state) {\n                switch(_state.label){\n                    case 0:\n                        return [\n                            4,\n                            _this.register(payload, name, {\n                                authenticatorType: "both",\n                                userVerification: "required"\n                            })\n                        ];\n                    case 1:\n                        regData = _state.sent();\n                        parsedData = _passwordless_id_webauthn__WEBPACK_IMPORTED_MODULE_0__.parsers.parseRegistration(regData);\n                        return [\n                            4,\n                            _utils_webauthnutils__WEBPACK_IMPORTED_MODULE_1__.WebAuthnUtils.getPublicKeyFromBytes(parsedData.credential.publicKey)\n                        ];\n                    case 2:\n                        pkey = _state.sent();\n                        return [\n                            2,\n                            new PassKeyKeyPair(parsedData.credential.id, pkey[0], pkey[1], _this, name, parsedData.authenticator.aaguid, parsedData.authenticator.name, Date.now())\n                        ];\n                }\n            });\n        })();\n    };\n    return WebAuthnWrapper;\n}();\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we\'re in a\n        // browser context before continuing.\n        if (typeof self !== \'undefined\' &&\n            // AMP / No-JS mode does not inject these helpers:\n            \'$RefreshHelpers$\' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevExports = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports on update so we can compare the boundary\n                // signatures.\n                module.hot.dispose(function (data) {\n                    data.prevExports = currentExports;\n                });\n                // Unconditionally accept an update to this module, we\'ll check if it\'s\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevExports !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we\'ll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it\'s possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevExports !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QTlCU25EO0lBb0RaO0FBRU07O2FBQU1vRDsrRUFBQUE7O2lCQUFBQTtJQUtULE9BQU1DLFFBRUwsR0FGRCxTQUFNQSxTQUFTdEMsU0FBaUIsRUFBRVYsSUFBWSxFQUFFaUQsT0FBd0I7ZUFBeEU7O2dCQUNJOztvQkFBTzdELHNFQUFlLENBQUNZLE9BQU1BLE9BQU9YLDRFQUFxQixJQUFJcUIsV0FBV3VDOzs7UUFDNUU7O0lBQ0EsT0FBTTdCLFlBRUwsR0FGRCxTQUFNQSxhQUFhVixTQUFpQixFQUFFd0MsS0FBNEIsRUFBRUQsT0FBNkI7ZUFBakc7O2dCQUNJOztvQkFBTzdELDBFQUFtQixDQUFDOEQsUUFBT0EsWUFBWXhDLFdBQVd1Qzs7O1FBQzdEOztJQUVBLE9BQWFFLGVBUVosR0FSRCxTQUFhQSxnQkFBZ0IxQyxPQUFlLEVBQUVULElBQVk7O2VBQTFEO2dCQUNVb0QsU0FFQUMsWUFFRkM7Ozs7d0JBSlk7OzRCQUFNLE1BQUtOLFFBQVEsQ0FBQ3ZDLFNBQVNULE1BQ3pDO2dDQUFDc0IsbUJBQW1CO2dDQUFRRCxrQkFBa0I7NEJBQVU7Ozt3QkFEdEQrQixVQUFVO3dCQUVWQyxhQUFhL0QsZ0ZBQXlCLENBQUM4RDt3QkFFbEM7OzRCQUFNMUQsK0RBQWFBLENBQUM4RCxxQkFBcUIsQ0FBQ0gsV0FBV0ksVUFBVSxDQUFDQyxTQUFTOzs7d0JBQWhGSixPQUFPO3dCQUNYOzs0QkFBTyxJQUFJM0QsZUFBZTBELFdBQVdJLFVBQVUsQ0FBQ3hCLEVBQUUsRUFBRXFCLElBQUksQ0FBQyxFQUFFLEVBQUVBLElBQUksQ0FBQyxFQUFFLFNBQ2hFdEQsTUFBTXFELFdBQVdULGFBQWEsQ0FBQzNDLE1BQU0sRUFBRW9ELFdBQVdULGFBQWEsQ0FBQzVDLElBQUksRUFBRTZDLEtBQUtDLEdBQUc7Ozs7UUFDdEY7O1dBcEJTQztJQXFCWiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9zcmMvbGliL3dlYmF1dGgudHM/ODQ0MyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjbGllbnQsIHV0aWxzLCBwYXJzZXJzIH0gZnJvbSAnQHBhc3N3b3JkbGVzcy1pZC93ZWJhdXRobidcbmltcG9ydCB7IEF1dGhlbnRpY2F0aW9uRW5jb2RlZCwgUmVnaXN0cmF0aW9uRW5jb2RlZCwgUmVnaXN0ZXJPcHRpb25zLCBBdXRoZW50aWNhdGVPcHRpb25zIH0gZnJvbSAnQHBhc3N3b3JkbGVzcy1pZC93ZWJhdXRobi9kaXN0L2VzbS90eXBlcydcbmltcG9ydCB7IEJpZ051bWJlciB9IGZyb20gJ2V0aGVycydcbmltcG9ydCB7IGFycmF5aWZ5LCBrZWNjYWsyNTYgfSBmcm9tICdldGhlcnMvbGliL3V0aWxzJ1xuaW1wb3J0IHsgV2ViQXV0aG5VdGlscyB9IGZyb20gJy4uL3V0aWxzL3dlYmF1dGhudXRpbHMnXG5cbmV4cG9ydCBpbnRlcmZhY2UgSVdlYkF1dGhuQ2xpZW50IHtcbiAgICByZWdpc3RlcihjaGFsbGVuZ2U6c3RyaW5nLCBuYW1lPzpzdHJpbmcsIG9wdGlvbnM/OlJlZ2lzdGVyT3B0aW9ucyApOiBQcm9taXNlPFJlZ2lzdHJhdGlvbkVuY29kZWQ+XG4gICAgYXV0aGVudGljYXRlKGNoYWxsZW5nZTogc3RyaW5nLCBrZXlpZD86IHN0cmluZ1tdLCBvcHRpb25zPzogQXV0aGVudGljYXRlT3B0aW9ucyk6IFByb21pc2U8QXV0aGVudGljYXRpb25FbmNvZGVkPlxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFBhc3NLZXlTaWduYXR1cmUge1xuICAgIGlkOiBCaWdOdW1iZXJcbiAgICByOiBCaWdOdW1iZXJcbiAgICBzOiBCaWdOdW1iZXJcbiAgICBhdXRoRGF0YTogVWludDhBcnJheVxuICAgIGNsaWVudERhdGFQcmVmaXg6IHN0cmluZ1xuICAgIGNsaWVudERhdGFTdWZmaXg6IHN0cmluZ1xufVxuXG5leHBvcnQgY2xhc3MgUGFzc0tleUtleVBhaXIge1xuICAgIGtleUhhc2g6IEJpZ051bWJlclxuICAgIHB1YktleVg6IEJpZ051bWJlclxuICAgIHB1YktleVk6IEJpZ051bWJlclxuICAgIGtleUlkOiBzdHJpbmdcbiAgICB3ZWJBdXRobkNsaWVudDogSVdlYkF1dGhuQ2xpZW50XG4gICAgbmFtZT86IHN0cmluZ1xuICAgIGFhZ3VpZD86IHN0cmluZ1xuICAgIG1hbnVmYWN0dXJlcj86IHN0cmluZ1xuICAgIHJlZ1RpbWU/OiBFcG9jaFRpbWVTdGFtcFxuXG4gICAgY29uc3RydWN0b3Ioa2V5SWQ6IHN0cmluZywgcHViS2V5WDogQmlnTnVtYmVyLCBwdWJLZXlZOiBCaWdOdW1iZXIsIHdlYkF1dGhuQ2xpZW50OiBJV2ViQXV0aG5DbGllbnQsXG4gICAgICAgICAgICAgICAgbmFtZT86IHN0cmluZywgYWFndWlkPzogc3RyaW5nLCBtYW51ZmFjdHVyZXI/OiBzdHJpbmcsIHJlZ1RpbWU/OiBFcG9jaFRpbWVTdGFtcCkge1xuICAgICAgICB0aGlzLmtleUhhc2ggPSBCaWdOdW1iZXIuZnJvbShrZWNjYWsyNTYobmV3IFRleHRFbmNvZGVyKCkuZW5jb2RlKGtleUlkKSkpXG4gICAgICAgIHRoaXMucHViS2V5WCA9IHB1YktleVhcbiAgICAgICAgdGhpcy5wdWJLZXlZID0gcHViS2V5WVxuICAgICAgICB0aGlzLndlYkF1dGhuQ2xpZW50ID0gd2ViQXV0aG5DbGllbnRcbiAgICAgICAgdGhpcy5rZXlJZCA9IGtleUlkXG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWVcbiAgICAgICAgdGhpcy5hYWd1aWQgPSBhYWd1aWRcbiAgICAgICAgdGhpcy5tYW51ZmFjdHVyZXIgPSBtYW51ZmFjdHVyZXJcbiAgICAgICAgdGhpcy5yZWdUaW1lID0gcmVnVGltZVxuICAgIH1cblxuICAgIHN0YXRpYyBhc3luYyBnZXRWYWxpZFBhc3NLZXlQYWlyKHdlYkF1dGhuQ2xpZW50OiBJV2ViQXV0aG5DbGllbnQsIHBhc3NrZXlJZHM/OiBzdHJpbmdbXSk6IFByb21pc2U8UGFzc0tleUtleVBhaXI+IHtcbiAgICAgICAgY29uc3QgYXV0aERhdGEgPSBhd2FpdCB3ZWJBdXRobkNsaWVudC5hdXRoZW50aWNhdGUodXRpbHMucmFuZG9tQ2hhbGxlbmdlKCksIHBhc3NrZXlJZHMsIHt1c2VyVmVyaWZpY2F0aW9uOiAncmVxdWlyZWQnLCBhdXRoZW50aWNhdG9yVHlwZTogJ2JvdGgnfSlcbiAgICAgICAgY29uc3Qgc2lnID0gV2ViQXV0aG5VdGlscy5nZXRNZXNzYWdlU2lnbmF0dXJlKGF1dGhEYXRhLnNpZ25hdHVyZSlcbiAgICAgICAgY29uc3QgcGFyc2VkQXV0aCA9IHBhcnNlcnMucGFyc2VBdXRoZW50aWNhdGlvbihhdXRoRGF0YSlcbiAgICAgICAgcmV0dXJuIG5ldyBQYXNzS2V5S2V5UGFpcihwYXJzZWRBdXRoLmNyZWRlbnRpYWxJZCwgQmlnTnVtYmVyLmZyb20oMCksIEJpZ051bWJlci5mcm9tKDApLCB3ZWJBdXRobkNsaWVudCwgXG4gICAgICAgICAgICBwYXJzZWRBdXRoLmF1dGhlbnRpY2F0b3IubmFtZSwgcGFyc2VkQXV0aC5hdXRoZW50aWNhdG9yLmFhZ3VpZCwgcGFyc2VkQXV0aC5hdXRoZW50aWNhdG9yLm5hbWUsIERhdGUubm93KCkpXG4gICAgfVxuXG4gICAgYXN5bmMgc2lnbkNoYWxsZW5nZShwYXlsb2FkOiBzdHJpbmcpOiBQcm9taXNlPFBhc3NLZXlTaWduYXR1cmU+IHtcbiAgICAgICAgLy8gb3BoYXNoIGlzIGEga2VjY2FrMjU2IGhhc2ggb2YgdGhlIHVzZXIgb3BlcmF0aW9uIGFzIGEgaGV4IHN0cmluZ1xuICAgICAgICAvLyB0aGlzIG5lZWRzIHRvIGJlIGJhc2U2NHVybCBlbmNvZGVkIGZyb20gcmF3IGJ5dGVzIG9mIHRoZSBoYXNoXG4gICAgICAgIGNvbnN0IGNoYWxsZW5nZSA9IHV0aWxzLnRvQmFzZTY0dXJsKGFycmF5aWZ5KHBheWxvYWQpKS5yZXBsYWNlKC89L2csICcnKVxuICAgICAgICBjb25zdCBhdXRoRGF0YSA9IGF3YWl0IHRoaXMud2ViQXV0aG5DbGllbnQuYXV0aGVudGljYXRlKGNoYWxsZW5nZSwgW3RoaXMua2V5SWRdLCB7dXNlclZlcmlmaWNhdGlvbjogJ3JlcXVpcmVkJywgYXV0aGVudGljYXRvclR5cGU6ICdib3RoJ30pXG4gICAgICAgIGNvbnN0IHNpZyA9IFdlYkF1dGhuVXRpbHMuZ2V0TWVzc2FnZVNpZ25hdHVyZShhdXRoRGF0YS5zaWduYXR1cmUpXG4gICAgICAgIGNvbnN0IGNsaWVudERhdGFKU09OID0gbmV3IFRleHREZWNvZGVyKCkuZGVjb2RlKHV0aWxzLnBhcnNlQmFzZTY0dXJsKGF1dGhEYXRhLmNsaWVudERhdGEpKVxuICAgICAgICBjb25zdCBjaGFsbGVuZ2VQb3MgPSBjbGllbnREYXRhSlNPTi5pbmRleE9mKGNoYWxsZW5nZSlcbiAgICAgICAgY29uc3QgY2hhbGxlbmdlUHJlZml4ID0gY2xpZW50RGF0YUpTT04uc3Vic3RyaW5nKDAsIGNoYWxsZW5nZVBvcylcbiAgICAgICAgY29uc3QgY2hhbGxlbmdlU3VmZml4ID0gY2xpZW50RGF0YUpTT04uc3Vic3RyaW5nKGNoYWxsZW5nZVBvcyArIGNoYWxsZW5nZS5sZW5ndGgpXG4gICAgICAgIGNvbnN0IGF1dGhlbnRpY2F0b3JEYXRhID0gbmV3IFVpbnQ4QXJyYXkodXRpbHMucGFyc2VCYXNlNjR1cmwoYXV0aERhdGEuYXV0aGVudGljYXRvckRhdGEpKVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgaWQ6IHRoaXMua2V5SGFzaCxcbiAgICAgICAgICAgIHI6IHNpZ1swXSxcbiAgICAgICAgICAgIHM6IHNpZ1sxXSxcbiAgICAgICAgICAgIGF1dGhEYXRhOiBhdXRoZW50aWNhdG9yRGF0YSxcbiAgICAgICAgICAgIGNsaWVudERhdGFQcmVmaXg6IGNoYWxsZW5nZVByZWZpeCxcbiAgICAgICAgICAgIGNsaWVudERhdGFTdWZmaXg6IGNoYWxsZW5nZVN1ZmZpeFxuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgV2ViQXV0aG5XcmFwcGVyIGltcGxlbWVudHMgSVdlYkF1dGhuQ2xpZW50IHtcbiAgICBcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVzZWxlc3MtY29uc3RydWN0b3JcbiAgICBjb25zdHJ1Y3RvcigpIHt9XG5cbiAgICBhc3luYyByZWdpc3RlcihjaGFsbGVuZ2U6IHN0cmluZywgbmFtZT86c3RyaW5nLCBvcHRpb25zPzpSZWdpc3Rlck9wdGlvbnMpOiBQcm9taXNlPFJlZ2lzdHJhdGlvbkVuY29kZWQ+IHtcbiAgICAgICAgcmV0dXJuIGNsaWVudC5yZWdpc3RlcihuYW1lPyBuYW1lIDogdXRpbHMucmFuZG9tQ2hhbGxlbmdlKCksIGNoYWxsZW5nZSwgb3B0aW9ucyk7XG4gICAgfVxuICAgIGFzeW5jIGF1dGhlbnRpY2F0ZShjaGFsbGVuZ2U6IHN0cmluZywga2V5aWQ/OiBzdHJpbmdbXSB8IHVuZGVmaW5lZCwgb3B0aW9ucz86IEF1dGhlbnRpY2F0ZU9wdGlvbnMpOiBQcm9taXNlPEF1dGhlbnRpY2F0aW9uRW5jb2RlZD4ge1xuICAgICAgICByZXR1cm4gY2xpZW50LmF1dGhlbnRpY2F0ZShrZXlpZD8ga2V5aWQgOiBbXSwgY2hhbGxlbmdlLCBvcHRpb25zKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgYXN5bmMgcmVnaXN0ZXJQYXNzS2V5KHBheWxvYWQ6IHN0cmluZywgbmFtZT86c3RyaW5nKTogUHJvbWlzZTxQYXNzS2V5S2V5UGFpcj4ge1xuICAgICAgICBjb25zdCByZWdEYXRhID0gYXdhaXQgdGhpcy5yZWdpc3RlcihwYXlsb2FkLCBuYW1lLCBcbiAgICAgICAgICAgIHthdXRoZW50aWNhdG9yVHlwZTogJ2JvdGgnLCB1c2VyVmVyaWZpY2F0aW9uOiAncmVxdWlyZWQnfSk7XG4gICAgICAgIGNvbnN0IHBhcnNlZERhdGEgPSBwYXJzZXJzLnBhcnNlUmVnaXN0cmF0aW9uKHJlZ0RhdGEpO1xuICAgIFxuICAgICAgICBsZXQgcGtleSA9IGF3YWl0IFdlYkF1dGhuVXRpbHMuZ2V0UHVibGljS2V5RnJvbUJ5dGVzKHBhcnNlZERhdGEuY3JlZGVudGlhbC5wdWJsaWNLZXkpO1xuICAgICAgICByZXR1cm4gbmV3IFBhc3NLZXlLZXlQYWlyKHBhcnNlZERhdGEuY3JlZGVudGlhbC5pZCwgcGtleVswXSwgcGtleVsxXSwgdGhpcywgXG4gICAgICAgICAgICBuYW1lLCBwYXJzZWREYXRhLmF1dGhlbnRpY2F0b3IuYWFndWlkLCBwYXJzZWREYXRhLmF1dGhlbnRpY2F0b3IubmFtZSwgRGF0ZS5ub3coKSk7XG4gICAgfVxufSJdLCJuYW1lcyI6WyJjbGllbnQiLCJ1dGlscyIsInBhcnNlcnMiLCJCaWdOdW1iZXIiLCJhcnJheWlmeSIsImtlY2NhazI1NiIsIldlYkF1dGhuVXRpbHMiLCJQYXNzS2V5S2V5UGFpciIsImtleUlkIiwicHViS2V5WCIsInB1YktleVkiLCJ3ZWJBdXRobkNsaWVudCIsIm5hbWUiLCJhYWd1aWQiLCJtYW51ZmFjdHVyZXIiLCJyZWdUaW1lIiwia2V5SGFzaCIsImZyb20iLCJUZXh0RW5jb2RlciIsImVuY29kZSIsInNpZ25DaGFsbGVuZ2UiLCJwYXlsb2FkIiwiY2hhbGxlbmdlIiwiYXV0aERhdGEiLCJzaWciLCJjbGllbnREYXRhSlNPTiIsImNoYWxsZW5nZVBvcyIsImNoYWxsZW5nZVByZWZpeCIsImNoYWxsZW5nZVN1ZmZpeCIsImF1dGhlbnRpY2F0b3JEYXRhIiwidG9CYXNlNjR1cmwiLCJyZXBsYWNlIiwiYXV0aGVudGljYXRlIiwidXNlclZlcmlmaWNhdGlvbiIsImF1dGhlbnRpY2F0b3JUeXBlIiwiZ2V0TWVzc2FnZVNpZ25hdHVyZSIsInNpZ25hdHVyZSIsIlRleHREZWNvZGVyIiwiZGVjb2RlIiwicGFyc2VCYXNlNjR1cmwiLCJjbGllbnREYXRhIiwiaW5kZXhPZiIsInN1YnN0cmluZyIsImxlbmd0aCIsIlVpbnQ4QXJyYXkiLCJpZCIsInIiLCJzIiwiY2xpZW50RGF0YVByZWZpeCIsImNsaWVudERhdGFTdWZmaXgiLCJnZXRWYWxpZFBhc3NLZXlQYWlyIiwicGFzc2tleUlkcyIsInBhcnNlZEF1dGgiLCJyYW5kb21DaGFsbGVuZ2UiLCJwYXJzZUF1dGhlbnRpY2F0aW9uIiwiY3JlZGVudGlhbElkIiwiYXV0aGVudGljYXRvciIsIkRhdGUiLCJub3ciLCJXZWJBdXRobldyYXBwZXIiLCJyZWdpc3RlciIsIm9wdGlvbnMiLCJrZXlpZCIsInJlZ2lzdGVyUGFzc0tleSIsInJlZ0RhdGEiLCJwYXJzZWREYXRhIiwicGtleSIsInBhcnNlUmVnaXN0cmF0aW9uIiwiZ2V0UHVibGljS2V5RnJvbUJ5dGVzIiwiY3JlZGVudGlhbCIsInB1YmxpY0tleSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/lib/webauth.ts\n',
        ),
      );

      /***/
    },
});
